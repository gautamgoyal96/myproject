function fbLogin(){FB.login(function(e){e.authResponse?getFbUserData():document.getElementById("status").innerHTML="User cancelled login or did not fully authorize."},{scope:"email"})}function getFbUserData(){FB.api("/me",{locale:"en_US",fields:"id,first_name,last_name,email,link,gender,locale,picture"},function(e){userEmail=e.email,"undefined"==typeof e.email&&(userEmail=e.id+"@facebook.com");var t={fName:e.first_name,lName:e.last_name,email:userEmail,socialId:e.id,image:"http://graph.facebook.com/"+e.id+"/picture?type=large",socialType:"facebook"};fbLogout(),url=base_url+"signup/register/",$.ajax({url:url,type:"POST",data:t,dataType:"json",cache:!1,success:function(t){fbLogout(),"SR"==t.type?(localStorage.setItem("fName",e.first_name),localStorage.setItem("lName",e.last_name),localStorage.setItem("email",userEmail),localStorage.setItem("socialId",e.id),localStorage.setItem("socialType","facebook"),localStorage.setItem("image","http://graph.facebook.com/"+e.id+"/picture?type=large"),window.location=base_url+"signup"):"SL"==t.type?(fbLogout(),window.location=base_url+"user"):"AE"==t.type&&alert("Email id already register")}})})}function fbLogout(){FB.logout(function(){})}window.fbAsyncInit=function(){FB.init({appId:"1679995098975056",cookie:!0,xfbml:!0,version:"v2.8"}),FB.getLoginStatus(function(e){"connected"===e.status&&getFbUserData()})},function(e,t,a){var o,i=e.getElementsByTagName(t)[0];e.getElementById(a)||(o=e.createElement(t),o.id=a,o.src="//connect.facebook.net/en_US/sdk.js",i.parentNode.insertBefore(o,i))}(document,"script","facebook-jssdk");